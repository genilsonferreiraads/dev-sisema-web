{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\genil\\\\Desktop\\\\sistema da imperio\\\\src\\\\components\\\\VideoPlayer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { videoService } from '../lib/supabase';\nimport VideoSidebar from './VideoSidebar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoPlayer = ({\n  videoId,\n  onEnded,\n  autoplay = false,\n  isPlaying = false,\n  setIsPlaying = () => {},\n  shouldAutoplay = false\n}) => {\n  _s();\n  var _videos$2;\n  const [videos, setVideos] = useState([]);\n  const [newVideoUrl, setNewVideoUrl] = useState('');\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [selectedVideo, setSelectedVideo] = useState(null);\n  const [player, setPlayer] = useState(null);\n  const [isPlayerReady, setIsPlayerReady] = useState(false);\n  const [localIsPlaying, setLocalIsPlaying] = useState(isPlaying);\n  useEffect(() => {\n    setLocalIsPlaying(isPlaying);\n  }, [isPlaying]);\n  const updatePlayingState = state => {\n    setLocalIsPlaying(state);\n    setIsPlaying(state);\n  };\n  const loadVideos = async () => {\n    try {\n      setIsLoading(true);\n      const data = await videoService.getVideos();\n      setVideos(data);\n      if (data.length > 0 && !selectedVideo) {\n        setSelectedVideo(data[0]);\n      }\n    } catch (error) {\n      console.error('Erro ao carregar vídeos:', error);\n      setError('Erro ao carregar a lista de vídeos');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleSearch = async searchTerm => {\n    try {\n      setIsLoading(true);\n      const searchResults = await videoService.searchVideos(searchTerm);\n      setVideos(searchResults);\n    } catch (error) {\n      console.error('Erro na busca:', error);\n      setError('Erro ao buscar vídeos');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleAddVideo = async () => {\n    if (!newVideoUrl.trim()) return;\n    try {\n      setIsLoading(true);\n      const videoId = extractVideoId(newVideoUrl);\n      if (!videoId) {\n        setError('URL do vídeo inválida');\n        return;\n      }\n      await videoService.addVideo(newVideoUrl);\n      setNewVideoUrl('');\n      await loadVideos();\n    } catch (error) {\n      console.error('Erro ao adicionar vídeo:', error);\n      setError('Erro ao adicionar vídeo');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const extractVideoId = url => {\n    const patterns = [/(?:youtube\\.com\\/watch\\?v=|youtu.be\\/)([^&\\n?#]+)/, /youtube.com\\/embed\\/([^&\\n?#]+)/];\n    for (const pattern of patterns) {\n      const match = url.match(pattern);\n      if (match && match[1]) {\n        return match[1];\n      }\n    }\n    return null;\n  };\n  useEffect(() => {\n    loadVideos();\n  }, []);\n  const loadYouTubeAPI = () => {\n    return new Promise(resolve => {\n      var _firstScriptTag$paren;\n      const existingScript = document.querySelector('script[src=\"https://www.youtube.com/iframe_api\"]');\n      if (existingScript) {\n        if (window.YT && window.YT.Player) {\n          resolve();\n          return;\n        }\n      }\n      const tag = document.createElement('script');\n      tag.src = 'https://www.youtube.com/iframe_api';\n      tag.async = true;\n      const firstScriptTag = document.getElementsByTagName('script')[0];\n      (_firstScriptTag$paren = firstScriptTag.parentNode) === null || _firstScriptTag$paren === void 0 ? void 0 : _firstScriptTag$paren.insertBefore(tag, firstScriptTag);\n      window.onYouTubeIframeAPIReady = () => {\n        resolve();\n      };\n    });\n  };\n  const initializePlayer = async (videoId, shouldAutoplay = false) => {\n    try {\n      var _YT;\n      await loadYouTubeAPI();\n      if (!((_YT = window.YT) !== null && _YT !== void 0 && _YT.Player)) {\n        setError('API do YouTube não está disponível');\n        return null;\n      }\n      if (player) {\n        try {\n          player.destroy();\n        } catch (e) {\n          console.error('Erro ao destruir player existente:', e);\n        }\n        setPlayer(null);\n      }\n      const playerContainer = document.getElementById('youtube-player');\n      if (!playerContainer) {\n        setError('Container do player não encontrado');\n        return null;\n      }\n      while (playerContainer.firstChild) {\n        playerContainer.removeChild(playerContainer.firstChild);\n      }\n      const newPlayer = new window.YT.Player('youtube-player', {\n        height: '100%',\n        width: '100%',\n        videoId: videoId,\n        playerVars: {\n          autoplay: shouldAutoplay ? 1 : 0,\n          controls: 1,\n          rel: 0\n        },\n        events: {\n          onReady: () => {\n            setIsPlayerReady(true);\n            if (shouldAutoplay) {\n              try {\n                newPlayer.playVideo();\n                updatePlayingState(true);\n              } catch (error) {\n                console.error('Erro ao iniciar reprodução:', error);\n                updatePlayingState(false);\n              }\n            }\n          },\n          onStateChange: event => {\n            try {\n              if (event.data === window.YT.PlayerState.ENDED) {\n                updatePlayingState(false);\n                onEnded === null || onEnded === void 0 ? void 0 : onEnded();\n              } else if (event.data === window.YT.PlayerState.PLAYING) {\n                updatePlayingState(true);\n              } else if (event.data === window.YT.PlayerState.PAUSED) {\n                updatePlayingState(false);\n              }\n            } catch (error) {\n              console.error('Erro ao processar mudança de estado:', error);\n              updatePlayingState(false);\n            }\n          },\n          onError: error => {\n            console.error('Erro no player do YouTube:', error);\n            setError('Erro ao carregar o vídeo');\n            updatePlayingState(false);\n          }\n        }\n      });\n      setPlayer(newPlayer);\n      return newPlayer;\n    } catch (error) {\n      console.error('Erro ao inicializar player:', error);\n      setError('Erro ao inicializar o player de vídeo');\n      updatePlayingState(false);\n      return null;\n    }\n  };\n  useEffect(() => {\n    if (selectedVideo || videos[0]) {\n      var _videos$;\n      const videoId = extractVideoId((selectedVideo === null || selectedVideo === void 0 ? void 0 : selectedVideo.url) || ((_videos$ = videos[0]) === null || _videos$ === void 0 ? void 0 : _videos$.url));\n      if (videoId) {\n        initializePlayer(videoId, shouldAutoplay);\n      }\n    }\n    return () => {\n      if (player) {\n        try {\n          player.destroy();\n          setPlayer(null);\n          setIsPlayerReady(false);\n        } catch (error) {\n          console.error('Erro ao destruir player:', error);\n        }\n      }\n    };\n  }, [selectedVideo === null || selectedVideo === void 0 ? void 0 : selectedVideo.url, (_videos$2 = videos[0]) === null || _videos$2 === void 0 ? void 0 : _videos$2.url]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col md:flex-row h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsSidebarOpen(!isSidebarOpen),\n          className: \"flex items-center space-x-2 text-white hover:text-gray-300\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M4 6h16M4 12h16M4 18h16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\xDAltimos V\\xEDdeos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-lg overflow-hidden border border-[#404040]\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative pt-[56.25%]\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"youtube-player\",\n            className: \"absolute top-0 left-0 w-full h-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-4 bg-red-500 text-white rounded\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VideoSidebar, {\n      isOpen: isSidebarOpen,\n      onClose: () => setIsSidebarOpen(false),\n      videos: videos,\n      onVideoSelect: handleVideoSelect,\n      setIsPlaying: setIsPlaying,\n      onSearch: handleSearch,\n      onAddVideo: handleAddVideo,\n      newVideoUrl: newVideoUrl,\n      setNewVideoUrl: setNewVideoUrl,\n      isLoading: isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 238,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoPlayer, \"x5p5rc3TI5TECFbZ5wKpHZObrdc=\");\n_c = VideoPlayer;\nexport default VideoPlayer;\nvar _c;\n$RefreshReg$(_c, \"VideoPlayer\");","map":{"version":3,"names":["React","useState","useEffect","videoService","VideoSidebar","jsxDEV","_jsxDEV","VideoPlayer","videoId","onEnded","autoplay","isPlaying","setIsPlaying","shouldAutoplay","_s","_videos$2","videos","setVideos","newVideoUrl","setNewVideoUrl","error","setError","isLoading","setIsLoading","isSidebarOpen","setIsSidebarOpen","selectedVideo","setSelectedVideo","player","setPlayer","isPlayerReady","setIsPlayerReady","localIsPlaying","setLocalIsPlaying","updatePlayingState","state","loadVideos","data","getVideos","length","console","handleSearch","searchTerm","searchResults","searchVideos","handleAddVideo","trim","extractVideoId","addVideo","url","patterns","pattern","match","loadYouTubeAPI","Promise","resolve","_firstScriptTag$paren","existingScript","document","querySelector","window","YT","Player","tag","createElement","src","async","firstScriptTag","getElementsByTagName","parentNode","insertBefore","onYouTubeIframeAPIReady","initializePlayer","_YT","destroy","e","playerContainer","getElementById","firstChild","removeChild","newPlayer","height","width","playerVars","controls","rel","events","onReady","playVideo","onStateChange","event","PlayerState","ENDED","PLAYING","PAUSED","onError","_videos$","className","children","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","id","isOpen","onClose","onVideoSelect","handleVideoSelect","onSearch","onAddVideo","_c","$RefreshReg$"],"sources":["C:/Users/genil/Desktop/sistema da imperio/src/components/VideoPlayer.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { videoService, VideoData } from '../lib/supabase';\nimport VideoSidebar from './VideoSidebar';\n\ninterface VideoPlayerProps {\n  videoId: string;\n  onEnded?: () => void;\n  autoplay?: boolean;\n  isPlaying?: boolean;\n  setIsPlaying?: (playing: boolean) => void;\n  shouldAutoplay?: boolean;\n}\n\nconst VideoPlayer: React.FC<VideoPlayerProps> = ({ \n  videoId, \n  onEnded,\n  autoplay = false,\n  isPlaying = false,\n  setIsPlaying = () => {},\n  shouldAutoplay = false\n}) => {\n  const [videos, setVideos] = useState<VideoData[]>([]);\n  const [newVideoUrl, setNewVideoUrl] = useState('');\n  const [error, setError] = useState<string>('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [selectedVideo, setSelectedVideo] = useState<VideoData | null>(null);\n  const [player, setPlayer] = useState<any>(null);\n  const [isPlayerReady, setIsPlayerReady] = useState(false);\n  const [localIsPlaying, setLocalIsPlaying] = useState(isPlaying);\n\n  useEffect(() => {\n    setLocalIsPlaying(isPlaying);\n  }, [isPlaying]);\n\n  const updatePlayingState = (state: boolean) => {\n    setLocalIsPlaying(state);\n    setIsPlaying(state);\n  };\n\n  const loadVideos = async () => {\n    try {\n      setIsLoading(true);\n      const data = await videoService.getVideos();\n      setVideos(data);\n      if (data.length > 0 && !selectedVideo) {\n        setSelectedVideo(data[0]);\n      }\n    } catch (error) {\n      console.error('Erro ao carregar vídeos:', error);\n      setError('Erro ao carregar a lista de vídeos');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSearch = async (searchTerm: string) => {\n    try {\n      setIsLoading(true);\n      const searchResults = await videoService.searchVideos(searchTerm);\n      setVideos(searchResults);\n    } catch (error) {\n      console.error('Erro na busca:', error);\n      setError('Erro ao buscar vídeos');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleAddVideo = async () => {\n    if (!newVideoUrl.trim()) return;\n\n    try {\n      setIsLoading(true);\n      const videoId = extractVideoId(newVideoUrl);\n      if (!videoId) {\n        setError('URL do vídeo inválida');\n        return;\n      }\n\n      await videoService.addVideo(newVideoUrl);\n      setNewVideoUrl('');\n      await loadVideos();\n    } catch (error) {\n      console.error('Erro ao adicionar vídeo:', error);\n      setError('Erro ao adicionar vídeo');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const extractVideoId = (url: string): string | null => {\n    const patterns = [\n      /(?:youtube\\.com\\/watch\\?v=|youtu.be\\/)([^&\\n?#]+)/,\n      /youtube.com\\/embed\\/([^&\\n?#]+)/,\n    ];\n\n    for (const pattern of patterns) {\n      const match = url.match(pattern);\n      if (match && match[1]) {\n        return match[1];\n      }\n    }\n    return null;\n  };\n\n  useEffect(() => {\n    loadVideos();\n  }, []);\n\n  const loadYouTubeAPI = () => {\n    return new Promise<void>((resolve) => {\n      const existingScript = document.querySelector('script[src=\"https://www.youtube.com/iframe_api\"]');\n      if (existingScript) {\n        if ((window as any).YT && (window as any).YT.Player) {\n          resolve();\n          return;\n        }\n      }\n\n      const tag = document.createElement('script');\n      tag.src = 'https://www.youtube.com/iframe_api';\n      tag.async = true;\n      const firstScriptTag = document.getElementsByTagName('script')[0];\n      firstScriptTag.parentNode?.insertBefore(tag, firstScriptTag);\n\n      (window as any).onYouTubeIframeAPIReady = () => {\n        resolve();\n      };\n    });\n  };\n\n  const initializePlayer = async (videoId?: string, shouldAutoplay: boolean = false) => {\n    try {\n      await loadYouTubeAPI();\n      \n      if (!(window as any).YT?.Player) {\n        setError('API do YouTube não está disponível');\n        return null;\n      }\n\n      if (player) {\n        try {\n          player.destroy();\n        } catch (e) {\n          console.error('Erro ao destruir player existente:', e);\n        }\n        setPlayer(null);\n      }\n\n      const playerContainer = document.getElementById('youtube-player');\n      if (!playerContainer) {\n        setError('Container do player não encontrado');\n        return null;\n      }\n\n      while (playerContainer.firstChild) {\n        playerContainer.removeChild(playerContainer.firstChild);\n      }\n\n      const newPlayer = new (window as any).YT.Player('youtube-player', {\n        height: '100%',\n        width: '100%',\n        videoId: videoId,\n        playerVars: {\n          autoplay: shouldAutoplay ? 1 : 0,\n          controls: 1,\n          rel: 0,\n        },\n        events: {\n          onReady: () => {\n            setIsPlayerReady(true);\n            if (shouldAutoplay) {\n              try {\n                newPlayer.playVideo();\n                updatePlayingState(true);\n              } catch (error) {\n                console.error('Erro ao iniciar reprodução:', error);\n                updatePlayingState(false);\n              }\n            }\n          },\n          onStateChange: (event: any) => {\n            try {\n              if (event.data === (window as any).YT.PlayerState.ENDED) {\n                updatePlayingState(false);\n                onEnded?.();\n              } else if (event.data === (window as any).YT.PlayerState.PLAYING) {\n                updatePlayingState(true);\n              } else if (event.data === (window as any).YT.PlayerState.PAUSED) {\n                updatePlayingState(false);\n              }\n            } catch (error) {\n              console.error('Erro ao processar mudança de estado:', error);\n              updatePlayingState(false);\n            }\n          },\n          onError: (error: any) => {\n            console.error('Erro no player do YouTube:', error);\n            setError('Erro ao carregar o vídeo');\n            updatePlayingState(false);\n          }\n        }\n      });\n\n      setPlayer(newPlayer);\n      return newPlayer;\n    } catch (error) {\n      console.error('Erro ao inicializar player:', error);\n      setError('Erro ao inicializar o player de vídeo');\n      updatePlayingState(false);\n      return null;\n    }\n  };\n\n  useEffect(() => {\n    if (selectedVideo || videos[0]) {\n      const videoId = extractVideoId(selectedVideo?.url || videos[0]?.url);\n      if (videoId) {\n        initializePlayer(videoId, shouldAutoplay);\n      }\n    }\n\n    return () => {\n      if (player) {\n        try {\n          player.destroy();\n          setPlayer(null);\n          setIsPlayerReady(false);\n        } catch (error) {\n          console.error('Erro ao destruir player:', error);\n        }\n      }\n    };\n  }, [selectedVideo?.url, videos[0]?.url]);\n\n  return (\n    <div className=\"flex flex-col md:flex-row h-full\">\n      <div className=\"flex-1 p-4\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <button\n            onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n            className=\"flex items-center space-x-2 text-white hover:text-gray-300\"\n          >\n            <svg\n              className=\"w-4 h-4\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M4 6h16M4 12h16M4 18h16\"\n              />\n            </svg>\n            <span>Últimos Vídeos</span>\n          </button>\n        </div>\n\n        <div className=\"rounded-lg overflow-hidden border border-[#404040]\">\n          <div className=\"relative pt-[56.25%]\">\n            <div\n              id=\"youtube-player\"\n              className=\"absolute top-0 left-0 w-full h-full\"\n            />\n          </div>\n        </div>\n        \n        {error && (\n          <div className=\"mt-4 p-4 bg-red-500 text-white rounded\">\n            {error}\n          </div>\n        )}\n      </div>\n\n      <VideoSidebar\n        isOpen={isSidebarOpen}\n        onClose={() => setIsSidebarOpen(false)}\n        videos={videos}\n        onVideoSelect={handleVideoSelect}\n        setIsPlaying={setIsPlaying}\n        onSearch={handleSearch}\n        onAddVideo={handleAddVideo}\n        newVideoUrl={newVideoUrl}\n        setNewVideoUrl={setNewVideoUrl}\n        isLoading={isLoading}\n      />\n    </div>\n  );\n};\n\nexport default VideoPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}