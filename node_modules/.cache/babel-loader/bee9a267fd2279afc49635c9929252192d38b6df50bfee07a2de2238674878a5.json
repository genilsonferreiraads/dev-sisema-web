{"ast":null,"code":"import { supabase } from './supabase';\nexport const authService = {\n  async signIn(username, password) {\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('users').select('*').eq('username', username).eq('password', password).single();\n      if (error) throw error;\n      return data;\n    } catch (error) {\n      throw new Error('Credenciais inválidas');\n    }\n  },\n  async getCurrentUser() {\n    const userStr = localStorage.getItem('user');\n    return userStr ? JSON.parse(userStr) : null;\n  },\n  async signOut() {\n    localStorage.removeItem('user');\n  }\n};","map":{"version":3,"names":["supabase","authService","signIn","username","password","data","error","from","select","eq","single","Error","getCurrentUser","userStr","localStorage","getItem","JSON","parse","signOut","removeItem"],"sources":["C:/Users/genil/Desktop/Dev Sistema academia/src/lib/auth.ts"],"sourcesContent":["import { supabase } from './supabase';\r\nimport { User, UserListItem } from '../types/auth';\r\n\r\nexport const authService = {\r\n  async signIn(username: string, password: string): Promise<User | null> {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('users')\r\n        .select('*')\r\n        .eq('username', username)\r\n        .eq('password', password)\r\n        .single();\r\n\r\n      if (error) throw error;\r\n      return data;\r\n    } catch (error) {\r\n      throw new Error('Credenciais inválidas');\r\n    }\r\n  },\r\n\r\n  async getCurrentUser(): Promise<User | null> {\r\n    const userStr = localStorage.getItem('user');\r\n    return userStr ? JSON.parse(userStr) : null;\r\n  },\r\n\r\n  async signOut(): Promise<void> {\r\n    localStorage.removeItem('user');\r\n  }\r\n}; "],"mappings":"AAAA,SAASA,QAAQ,QAAQ,YAAY;AAGrC,OAAO,MAAMC,WAAW,GAAG;EACzB,MAAMC,MAAMA,CAACC,QAAgB,EAAEC,QAAgB,EAAwB;IACrE,IAAI;MACF,MAAM;QAAEC,IAAI;QAAEC;MAAM,CAAC,GAAG,MAAMN,QAAQ,CACnCO,IAAI,CAAC,OAAO,CAAC,CACbC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,UAAU,EAAEN,QAAQ,CAAC,CACxBM,EAAE,CAAC,UAAU,EAAEL,QAAQ,CAAC,CACxBM,MAAM,CAAC,CAAC;MAEX,IAAIJ,KAAK,EAAE,MAAMA,KAAK;MACtB,OAAOD,IAAI;IACb,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAM,IAAIK,KAAK,CAAC,uBAAuB,CAAC;IAC1C;EACF,CAAC;EAED,MAAMC,cAAcA,CAAA,EAAyB;IAC3C,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC5C,OAAOF,OAAO,GAAGG,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAC,GAAG,IAAI;EAC7C,CAAC;EAED,MAAMK,OAAOA,CAAA,EAAkB;IAC7BJ,YAAY,CAACK,UAAU,CAAC,MAAM,CAAC;EACjC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}